<mat-grid-list
  [cols]="columns$ | async"
  [rowHeight]="rowHeight"
  [gutterSize]="gutterSize"
>
  <div [@fade]="tiles?.length">
    <mat-grid-tile
      *ngFor="
        let tile of tiles;
        trackBy: trackBy;
        let i = index;
        let last = last
      "
      [colspan]="tile?.cols"
      [rowspan]="tile?.rows"
    >
      <app-masonry-tile [content]="tile" [id]="i" [expanded]="tile.expanded" [enableHover]="config.enableHover" (expandedChange)="toggleExpand(tile, tile.expanded)">
        <ng-container front>
          <ng-container
            *ngTemplateOutlet="frontFaceTemplate; context: { $implicit: tile }"
          ></ng-container>
        </ng-container>

        <ng-container back>
          <ng-container
            back
            *ngTemplateOutlet="backFaceTemplate; context: { $implicit: tile }"
          ></ng-container>
        </ng-container>

        <ng-container actionBar>
          <ng-container
          actionBar
            *ngTemplateOutlet="actionBarTemplate; context: { $implicit: tile }"
          ></ng-container>
        </ng-container>
      </app-masonry-tile>
    </mat-grid-tile>
  </div>
</mat-grid-list>
